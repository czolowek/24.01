{% extends 'base.html' %}

{% block content %}
<h1>REST + JS (Django REST Framework)</h1>
<div id="products"></div>

<script>
async function loadProducts() {
    const resp = await fetch('/api/products/');
    const data = await resp.json();
    const container = document.getElementById('products');
    container.innerHTML = '';
    data.forEach(p => {
        const div = document.createElement('div');
        div.style.background = 'white';
        div.style.padding = '20px';
        div.style.marginBottom = '15px';
        div.style.borderRadius = '10px';
        div.innerHTML = `
            <h2>${p.name}</h2>
            <p>${p.price} грн</p>
            <p>${p.description}</p>
        `;
        container.appendChild(div);
    });
}
loadProducts();
</script>
{% endblock %}
